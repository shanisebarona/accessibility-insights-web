// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`mock-adb tests match snapshots after normalizing path commonAdbConfigs['multiple-devices'] 1`] = `
Object {
  "-s device-1 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s device-1 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-1 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "-s device-2 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s device-2 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-2 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-2 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-2 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-2 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-2 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-2 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-2 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-2 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-2 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-2 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-2 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-2 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-2)",
  },
  "-s device-2 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-2 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-2 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "-s emulator-3 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s emulator-3 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s emulator-3 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s emulator-3 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s emulator-3 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s emulator-3 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s emulator-3 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s emulator-3 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s emulator-3 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s emulator-3 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s emulator-3 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s emulator-3 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s emulator-3 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s emulator-3 shell getprop ro.product.model": Object {
    "stdout": "working mock device (emulator-3)",
  },
  "-s emulator-3 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s emulator-3 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s emulator-3 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "PUSH PLACEHOLDER for 'device-2' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-2 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "PUSH PLACEHOLDER for 'emulator-3' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s emulator-3 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "start-server": Object {},
}
`;

exports[`mock-adb tests match snapshots after normalizing path commonAdbConfigs['single-device'] 1`] = `
Object {
  "-s device-1 devices": Object {
    "stdout": "List of devices attached
device-1	device
",
  },
  "-s device-1 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-1 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "stdout": "List of devices attached
device-1	device
",
  },
  "start-server": Object {},
}
`;

exports[`mock-adb tests match snapshots after normalizing path commonAdbConfigs['slow-single-device'] 1`] = `
Object {
  "-s device-1 devices": Object {
    "delayMs": 5000,
    "stdout": "List of devices attached
device-1	device
",
  },
  "-s device-1 features": Object {
    "delayMs": 5000,
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "delayMs": 5000,
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "delayMs": 5000,
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "delayMs": 5000,
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "delayMs": 5000,
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "delayMs": 5000,
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {
    "delayMs": 5000,
  },
  "-s device-1 shell dumpsys accessibility": Object {
    "delayMs": 5000,
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "delayMs": 5000,
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "delayMs": 5000,
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "delayMs": 5000,
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "delayMs": 5000,
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "delayMs": 5000,
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {
    "delayMs": 5000,
  },
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "delayMs": 5000,
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "delayMs": 5000,
    "stdout": "List of devices attached
device-1	device
",
  },
  "start-server": Object {
    "delayMs": 5000,
  },
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulateInputKeyeventError(commonAdbConfigs['multiple-devices']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s device-1 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-1 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell input keyevent 20": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell input keyevent 21": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell input keyevent 22": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell input keyevent 61": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell input keyevent 66": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "-s device-2 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s device-2 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-2 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-2 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-2 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-2 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-2 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-2 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-2 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-2 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-2 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-2 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-2 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-2 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-2)",
  },
  "-s device-2 shell input keyevent 19": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-2 shell input keyevent 20": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-2 shell input keyevent 21": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-2 shell input keyevent 22": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-2 shell input keyevent 61": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-2 shell input keyevent 66": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-2 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-2 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "-s emulator-3 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s emulator-3 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s emulator-3 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s emulator-3 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s emulator-3 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s emulator-3 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s emulator-3 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s emulator-3 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s emulator-3 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s emulator-3 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s emulator-3 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s emulator-3 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s emulator-3 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s emulator-3 shell getprop ro.product.model": Object {
    "stdout": "working mock device (emulator-3)",
  },
  "-s emulator-3 shell input keyevent 19": Object {
    "stderr": "Disabled by test config",
  },
  "-s emulator-3 shell input keyevent 20": Object {
    "stderr": "Disabled by test config",
  },
  "-s emulator-3 shell input keyevent 21": Object {
    "stderr": "Disabled by test config",
  },
  "-s emulator-3 shell input keyevent 22": Object {
    "stderr": "Disabled by test config",
  },
  "-s emulator-3 shell input keyevent 61": Object {
    "stderr": "Disabled by test config",
  },
  "-s emulator-3 shell input keyevent 66": Object {
    "stderr": "Disabled by test config",
  },
  "-s emulator-3 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s emulator-3 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "PUSH PLACEHOLDER for 'device-2' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-2 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "PUSH PLACEHOLDER for 'emulator-3' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s emulator-3 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "start-server": Object {},
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulateInputKeyeventError(commonAdbConfigs['single-device']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "stdout": "List of devices attached
device-1	device
",
  },
  "-s device-1 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-1 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell input keyevent 20": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell input keyevent 21": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell input keyevent 22": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell input keyevent 61": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell input keyevent 66": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "stdout": "List of devices attached
device-1	device
",
  },
  "start-server": Object {},
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulateInputKeyeventError(commonAdbConfigs['slow-single-device']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "delayMs": 5000,
    "stdout": "List of devices attached
device-1	device
",
  },
  "-s device-1 features": Object {
    "delayMs": 5000,
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "delayMs": 5000,
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "delayMs": 5000,
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "delayMs": 5000,
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "delayMs": 5000,
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "delayMs": 5000,
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {
    "delayMs": 5000,
  },
  "-s device-1 shell dumpsys accessibility": Object {
    "delayMs": 5000,
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "delayMs": 5000,
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "delayMs": 5000,
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "delayMs": 5000,
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "delayMs": 5000,
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "delayMs": 5000,
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell input keyevent 20": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell input keyevent 21": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell input keyevent 22": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell input keyevent 61": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell input keyevent 66": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {
    "delayMs": 5000,
  },
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "delayMs": 5000,
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "delayMs": 5000,
    "stdout": "List of devices attached
device-1	device
",
  },
  "start-server": Object {
    "delayMs": 5000,
  },
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulateNoDevicesConnected(commonAdbConfigs['multiple-devices']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-1 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "-s device-2 devices": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-2 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-2 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-2 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-2 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-2 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-2 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-2 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-2 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-2 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-2 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-2 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-2 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-2 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-2)",
  },
  "-s device-2 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-2 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-2 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "-s emulator-3 devices": Object {
    "stderr": "Disabled by test config",
  },
  "-s emulator-3 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s emulator-3 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s emulator-3 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s emulator-3 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s emulator-3 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s emulator-3 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s emulator-3 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s emulator-3 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s emulator-3 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s emulator-3 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s emulator-3 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s emulator-3 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s emulator-3 shell getprop ro.product.model": Object {
    "stdout": "working mock device (emulator-3)",
  },
  "-s emulator-3 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s emulator-3 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s emulator-3 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "PUSH PLACEHOLDER for 'device-2' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-2 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "PUSH PLACEHOLDER for 'emulator-3' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s emulator-3 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "stderr": "Disabled by test config",
  },
  "start-server": Object {},
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulateNoDevicesConnected(commonAdbConfigs['single-device']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-1 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "stderr": "Disabled by test config",
  },
  "start-server": Object {},
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulateNoDevicesConnected(commonAdbConfigs['slow-single-device']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 features": Object {
    "delayMs": 5000,
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "delayMs": 5000,
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "delayMs": 5000,
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "delayMs": 5000,
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "delayMs": 5000,
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "delayMs": 5000,
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {
    "delayMs": 5000,
  },
  "-s device-1 shell dumpsys accessibility": Object {
    "delayMs": 5000,
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "delayMs": 5000,
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "delayMs": 5000,
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "delayMs": 5000,
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "delayMs": 5000,
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "delayMs": 5000,
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {
    "delayMs": 5000,
  },
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "delayMs": 5000,
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "stderr": "Disabled by test config",
  },
  "start-server": Object {
    "delayMs": 5000,
  },
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulatePortForwardingError(commonAdbConfigs['multiple-devices']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s device-1 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-1 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "-s device-2 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s device-2 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-2 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-2 forward tcp:62442 tcp:62442": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-2 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-2 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-2 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-2 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-2 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-2 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-2 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-2 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-2 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-2 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-2)",
  },
  "-s device-2 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-2 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-2 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "-s emulator-3 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s emulator-3 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s emulator-3 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s emulator-3 forward tcp:62442 tcp:62442": Object {
    "stderr": "Disabled by test config",
  },
  "-s emulator-3 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s emulator-3 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s emulator-3 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s emulator-3 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s emulator-3 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s emulator-3 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s emulator-3 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s emulator-3 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s emulator-3 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s emulator-3 shell getprop ro.product.model": Object {
    "stdout": "working mock device (emulator-3)",
  },
  "-s emulator-3 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s emulator-3 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s emulator-3 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "PUSH PLACEHOLDER for 'device-2' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-2 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "PUSH PLACEHOLDER for 'emulator-3' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s emulator-3 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "start-server": Object {},
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulatePortForwardingError(commonAdbConfigs['single-device']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "stdout": "List of devices attached
device-1	device
",
  },
  "-s device-1 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-1 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "stdout": "List of devices attached
device-1	device
",
  },
  "start-server": Object {},
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulatePortForwardingError(commonAdbConfigs['slow-single-device']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "delayMs": 5000,
    "stdout": "List of devices attached
device-1	device
",
  },
  "-s device-1 features": Object {
    "delayMs": 5000,
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "delayMs": 5000,
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 help": Object {
    "delayMs": 5000,
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "delayMs": 5000,
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "delayMs": 5000,
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {
    "delayMs": 5000,
  },
  "-s device-1 shell dumpsys accessibility": Object {
    "delayMs": 5000,
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "delayMs": 5000,
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "delayMs": 5000,
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "delayMs": 5000,
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "delayMs": 5000,
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "delayMs": 5000,
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {
    "delayMs": 5000,
  },
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "delayMs": 5000,
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "delayMs": 5000,
    "stdout": "List of devices attached
device-1	device
",
  },
  "start-server": Object {
    "delayMs": 5000,
  },
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulateServiceInstallationError(commonAdbConfigs['multiple-devices']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s device-1 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-1 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "-s device-2 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s device-2 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-2 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-2 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-2 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-2 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-2 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-2 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-2 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-2 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-2 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-2 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-2 shell getprop ro.build.version.sdk": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-2 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-2)",
  },
  "-s device-2 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-2 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-2 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "-s emulator-3 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s emulator-3 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s emulator-3 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s emulator-3 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s emulator-3 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s emulator-3 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s emulator-3 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s emulator-3 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s emulator-3 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s emulator-3 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s emulator-3 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s emulator-3 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s emulator-3 shell getprop ro.build.version.sdk": Object {
    "stderr": "Disabled by test config",
  },
  "-s emulator-3 shell getprop ro.product.model": Object {
    "stdout": "working mock device (emulator-3)",
  },
  "-s emulator-3 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s emulator-3 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s emulator-3 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "PUSH PLACEHOLDER for 'device-2' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-2 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "PUSH PLACEHOLDER for 'emulator-3' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s emulator-3 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "start-server": Object {},
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulateServiceInstallationError(commonAdbConfigs['single-device']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "stdout": "List of devices attached
device-1	device
",
  },
  "-s device-1 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-1 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "stdout": "List of devices attached
device-1	device
",
  },
  "start-server": Object {},
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulateServiceInstallationError(commonAdbConfigs['slow-single-device']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "delayMs": 5000,
    "stdout": "List of devices attached
device-1	device
",
  },
  "-s device-1 features": Object {
    "delayMs": 5000,
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "delayMs": 5000,
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "delayMs": 5000,
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "delayMs": 5000,
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "delayMs": 5000,
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "delayMs": 5000,
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {
    "delayMs": 5000,
  },
  "-s device-1 shell dumpsys accessibility": Object {
    "delayMs": 5000,
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "delayMs": 5000,
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "delayMs": 5000,
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "delayMs": 5000,
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "delayMs": 5000,
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {
    "delayMs": 5000,
  },
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "delayMs": 5000,
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "delayMs": 5000,
    "stdout": "List of devices attached
device-1	device
",
  },
  "start-server": Object {
    "delayMs": 5000,
  },
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulateServiceLacksPermissions(commonAdbConfigs['multiple-devices']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s device-1 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-1 shell dumpsys accessibility": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "-s device-2 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s device-2 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-2 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-2 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-2 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-2 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-2 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-2 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-2 shell dumpsys accessibility": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-2 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-2 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-2 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-2 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-2 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-2)",
  },
  "-s device-2 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-2 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-2 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "-s emulator-3 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s emulator-3 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s emulator-3 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s emulator-3 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s emulator-3 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s emulator-3 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s emulator-3 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s emulator-3 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s emulator-3 shell dumpsys accessibility": Object {
    "stderr": "Disabled by test config",
  },
  "-s emulator-3 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s emulator-3 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s emulator-3 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s emulator-3 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s emulator-3 shell getprop ro.product.model": Object {
    "stdout": "working mock device (emulator-3)",
  },
  "-s emulator-3 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s emulator-3 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s emulator-3 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "PUSH PLACEHOLDER for 'device-2' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-2 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "PUSH PLACEHOLDER for 'emulator-3' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s emulator-3 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "start-server": Object {},
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulateServiceLacksPermissions(commonAdbConfigs['single-device']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "stdout": "List of devices attached
device-1	device
",
  },
  "-s device-1 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-1 shell dumpsys accessibility": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "stdout": "List of devices attached
device-1	device
",
  },
  "start-server": Object {},
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulateServiceLacksPermissions(commonAdbConfigs['slow-single-device']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "delayMs": 5000,
    "stdout": "List of devices attached
device-1	device
",
  },
  "-s device-1 features": Object {
    "delayMs": 5000,
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "delayMs": 5000,
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "delayMs": 5000,
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "delayMs": 5000,
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "delayMs": 5000,
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "delayMs": 5000,
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {
    "delayMs": 5000,
  },
  "-s device-1 shell dumpsys accessibility": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "delayMs": 5000,
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "delayMs": 5000,
    "stdout": "    versionCode=102000 minSdk=24 targetSdk=28
    versionName=1.3.1",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "delayMs": 5000,
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "delayMs": 5000,
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "delayMs": 5000,
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {
    "delayMs": 5000,
  },
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "delayMs": 5000,
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "delayMs": 5000,
    "stdout": "List of devices attached
device-1	device
",
  },
  "start-server": Object {
    "delayMs": 5000,
  },
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulateServiceNotInstalled(commonAdbConfigs['multiple-devices']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s device-1 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-1 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "-s device-2 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s device-2 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-2 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-2 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-2 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-2 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-2 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-2 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-2 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-2 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-2 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-2 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-2 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-2 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-2)",
  },
  "-s device-2 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-2 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-2 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-2 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "-s emulator-3 devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "-s emulator-3 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s emulator-3 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s emulator-3 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s emulator-3 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s emulator-3 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s emulator-3 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s emulator-3 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s emulator-3 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s emulator-3 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s emulator-3 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stderr": "Disabled by test config",
  },
  "-s emulator-3 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s emulator-3 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s emulator-3 shell getprop ro.product.model": Object {
    "stdout": "working mock device (emulator-3)",
  },
  "-s emulator-3 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s emulator-3 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s emulator-3 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s emulator-3 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "PUSH PLACEHOLDER for 'device-2' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-2 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "PUSH PLACEHOLDER for 'emulator-3' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s emulator-3 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "stdout": "List of devices attached
device-1	device
device-2	device
emulator-3	emulator
",
  },
  "start-server": Object {},
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulateServiceNotInstalled(commonAdbConfigs['single-device']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "stdout": "List of devices attached
device-1	device
",
  },
  "-s device-1 features": Object {
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {},
  "-s device-1 shell dumpsys accessibility": Object {
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {},
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "stdout": "List of devices attached
device-1	device
",
  },
  "start-server": Object {},
}
`;

exports[`mock-adb tests match snapshots after normalizing path simulateServiceNotInstalled(commonAdbConfigs['slow-single-device']) 1`] = `
Object {
  "-s device-1 devices": Object {
    "delayMs": 5000,
    "stdout": "List of devices attached
device-1	device
",
  },
  "-s device-1 features": Object {
    "delayMs": 5000,
    "stdout": "abb_exec
fixed_push_symlink_timestamp
abb
stat_v2
apex
shell_v2
fixed_push_mkdir
cmd",
  },
  "-s device-1 forward --remove tcp:62442": Object {
    "delayMs": 5000,
    "stopTestServer": Object {
      "port": 62442,
    },
  },
  "-s device-1 forward tcp:62442 tcp:62442": Object {
    "delayMs": 5000,
    "startTestServer": Object {
      "path": "./src/tests/miscellaneous/mock-service-for-android/AccessibilityInsights",
      "port": 62442,
    },
  },
  "-s device-1 help": Object {
    "delayMs": 5000,
    "stdout": "--streaming: force streaming APK directly into Package Manager",
  },
  "-s device-1 install -r ./drop/electron/unified-dev/product/android-service/android-service.apk": Object {
    "delayMs": 5000,
    "stdout": "Performing Streamed Install
Success
",
  },
  "-s device-1 mkdir -p /data/local/tmp/appium_cache": Object {
    "delayMs": 5000,
    "exitCode": 0,
    "stdout": "",
  },
  "-s device-1 shell cmd appops reset com.microsoft.accessibilityinsightsforandroidservice": Object {
    "delayMs": 5000,
  },
  "-s device-1 shell dumpsys accessibility": Object {
    "delayMs": 5000,
    "stdout": "                     Service[label=Accessibility Insights for…, feedbackType[FEEDBACK_SPOKEN, FEEDBACK_HAPTIC, FEEDBACK_AUDIBLE, FEEDBACK_VISUAL, FEEDBACK_GENERIC, FEEDBACK_BRAILLE], capabilities=1, eventTypes=TYPES_ALL_MASK, notificationTimeout=0]}",
  },
  "-s device-1 shell dumpsys media_projection": Object {
    "delayMs": 5000,
    "stdout": "(com.microsoft.accessibilityinsightsforandroidservice, uid=12354): TYPE_SCREEN_CAPTURE",
  },
  "-s device-1 shell dumpsys package com.microsoft.accessibilityinsightsforandroidservice": Object {
    "stderr": "Disabled by test config",
  },
  "-s device-1 shell getprop ro.build.version.release": Object {
    "delayMs": 5000,
    "stdout": "10",
  },
  "-s device-1 shell getprop ro.build.version.sdk": Object {
    "delayMs": 5000,
    "stdout": "29",
  },
  "-s device-1 shell getprop ro.product.model": Object {
    "delayMs": 5000,
    "stdout": "working mock device (device-1)",
  },
  "-s device-1 shell input keyevent 19": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 20": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 21": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 22": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 61": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell input keyevent 66": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell ls -t -1 /data/local/tmp/appium_cache 2>&1 || echo _ERROR_": Object {
    "delayMs": 5000,
    "stdout": "",
  },
  "-s device-1 shell pm grant com.microsoft.accessibilityinsightsforandroidservice android.permission.SYSTEM_ALERT_WINDOW": Object {
    "delayMs": 5000,
  },
  "PUSH PLACEHOLDER for 'device-1' - MATCH IS VIA REGEX": Object {
    "delayMs": 5000,
    "regexTarget": "^-s device-1 push .*android-service.apk /data/local/tmp/appium_cache",
    "stdout": "(truncated-package-path)...ed. 32.0 MB/s (181531 bytes in 0.005s)",
  },
  "devices": Object {
    "delayMs": 5000,
    "stdout": "List of devices attached
device-1	device
",
  },
  "start-server": Object {
    "delayMs": 5000,
  },
}
`;
